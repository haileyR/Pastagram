function Flickr(t){"use strict";this.apiKey="a5e95177da353f58113fd60296e1d250",this.userID="132365033@N08"}function PastagramController(t,o){"use strict";this.flickr=t,this.view=o,self=this;var i="https://api.flickr.com/services/rest/?method=flickr.people.getPublicPhotos&api_key="+this.flickr.apiKey+"&user_id="+this.flickr.userID+"&format=json&jsoncallback=?";$.ajax({url:i,dataType:"jsonp",success:function(t){self.photoGroup=new PhotoGroup(t),self.view.displayPhotos(self.photoGroup.photoList)}}),self._bindEventListener()}function Pastagram(){"use strict";new PastagramController(new Flickr,new PastagramView)}function PhotoGroup(t){"use strict";this.photoIds=[],this.photoList={},this.addPhotosToGroup(t)}function PastagramView(){"use strict"}PastagramController.prototype._bindEventListener=function(){"use strict";var t=this;$("#view-sort").on("click",function(o){t.photoGroup.sortByViews()}),$("#recent-sort").on("click",function(o){t.photoGroup.sortBy("date-posted-desc")}),$("#interest-sort").on("click",function(o){t.photoGroup.sortBy("interestingness-desc")}),$(".ui.sticky").sticky()},new Pastagram,PhotoGroup.prototype.addPhotosToGroup=function(t){"use strict";for(var o=0;o<t.photos.photo.length;o++){var i=t.photos.photo[o];this.photoList[i.id]={title:i.title,url:"http://farm"+i.farm+".static.flickr.com/"+i.server+"/"+i.id+"_"+i.secret+".jpg",tags:null,dateTaken:null,views:0},this.getPhotoDetail(i.id)}},PhotoGroup.prototype.getPhotoDetail=function(t){"use strict";var o=this,i="https://api.flickr.com/services/rest/?method=flickr.photos.getInfo&api_key="+self.flickr.apiKey+"&photo_id="+t+"&format=json&jsoncallback=?";$.ajax({url:i,dataType:"jsonp",success:function(i){o.photoList[t].tags=i.photo.tags,o.photoList[t].dateTaken=i.photo.dates.taken.split(" ")[0],o.photoList[t].views=i.photo.views}})},PhotoGroup.prototype.sortByViews=function(){"use strict";var t=[];for(var o in this.photoList)t.push([o,this.photoList[o]]);t.sort(function(t,o){return parseInt(t[1].views)-parseInt(o[1].views)}),t.reverse(),self.view.displayPhotos(t)},PhotoGroup.prototype.sortBy=function(t){"use strict";var o="https://api.flickr.com/services/rest/?method=flickr.photos.search&api_key="+self.flickr.apiKey+"&user_id="+self.flickr.userID+"&sort="+t+"&privacy_filter=1&format=json&jsoncallback=?";$.ajax({url:o,dataType:"jsonp",success:function(t){self.view.displayPhotos(t.photos.photo)}})},PastagramView.prototype.displayPhotos=function(t){"use strict";var o="";if(t.length>0){if(void 0!==t[0].title)for(var i=0;i<t.length;i++){var s=t[i];o+='<li><div class="img-container"><img alt="'+s.title+'"src="http://farm'+s.farm+".static.flickr.com/"+s.server+"/"+s.id+"_"+s.secret+'.jpg"/><div class="info"><i class="favorite icon"></i>'+self.photoGroup.photoList[s.id].views+"views<br>Title: "+s.title+"<br>Date Taken: "+self.photoGroup.photoList[s.id].dateTaken+"</div></div></div></li>"}else for(var e=0;e<t.length;e++)o+='<li><div class="img-container"><img alt="'+t[e][1].title+'"src="'+t[e][1].url+'"/><div class="info"><i class="favorite icon"></i>'+t[e][1].views+"views<br>Title: "+t[e][1].title+"</div></div></div></li>";$("#photo-grid").empty(),$("#photo-grid").append('<ul class="small-block-grid-1 medium-block-grid-2 large-block-grid-3">'+o+"</ul>")}else for(var r in t)o+='<li><div class="img-container"><img alt="'+t[r].title+'"src="'+t[r].url+'"/><div class="info">Title: '+t[r].title+"</div></div></li>",$("#photo-grid").empty(),$("#photo-grid").append('<ul class="small-block-grid-1 medium-block-grid-2 large-block-grid-3">'+o+"</ul>")};